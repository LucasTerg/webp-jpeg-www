{"version":3,"file":"client-processor-Dwghfj9O.js","sources":["../../src/js/client-processor.js"],"sourcesContent":["import JSZip from 'jszip';\n\nconsole.log(\"Client processor module loaded\");\n\n// Funkcja pomocnicza do ładowania obrazu\nconst loadImage = (file) => {\n  return new Promise((resolve, reject) => {\n    const img = new Image();\n    img.onload = () => resolve(img);\n    img.onerror = reject;\n    img.src = URL.createObjectURL(file);\n  });\n};\n\n// Algorytm TRIM (Scanlines)\nconst getTrimmedBounds = (ctx, width, height) => {\n  const pixels = ctx.getImageData(0, 0, width, height).data;\n  let top = 0, bottom = height, left = 0, right = width;\n\n  // Funkcja sprawdzająca czy piksel jest \"tłem\" (biały lub przezroczysty)\n  // Tolerancja dla bieli: RGB > 230\n  const isBackground = (r, g, b, a) => {\n    const isWhite = r > 230 && g > 230 && b > 230;\n    const isTransparent = a < 255;\n    return isWhite || isTransparent;\n  };\n\n  // Skanowanie z góry\n  for (top = 0; top < height; top++) {\n    let rowHasContent = false;\n    for (let x = 0; x < width; x++) {\n      const i = (top * width + x) * 4;\n      if (!isBackground(pixels[i], pixels[i+1], pixels[i+2], pixels[i+3])) {\n        rowHasContent = true;\n        break;\n      }\n    }\n    if (rowHasContent) break;\n  }\n\n  // Jeśli obraz jest pusty (samo tło)\n  if (top === height) return null;\n\n  // Skanowanie z dołu\n  for (bottom = height - 1; bottom >= top; bottom--) {\n    let rowHasContent = false;\n    for (let x = 0; x < width; x++) {\n      const i = (bottom * width + x) * 4;\n      if (!isBackground(pixels[i], pixels[i+1], pixels[i+2], pixels[i+3])) {\n        rowHasContent = true;\n        break;\n      }\n    }\n    if (rowHasContent) break;\n  }\n  // Skanowanie z lewej\n  for (left = 0; left < width; left++) {\n    let colHasContent = false;\n    for (let y = top; y <= bottom; y++) {\n      const i = (y * width + left) * 4;\n      if (!isBackground(pixels[i], pixels[i+1], pixels[i+2], pixels[i+3])) {\n        colHasContent = true;\n        break;\n      }\n    }\n    if (colHasContent) break;\n  }\n\n  // Skanowanie z prawej\n  for (right = width - 1; right >= left; right--) {\n    let colHasContent = false;\n    for (let y = top; y <= bottom; y++) {\n      const i = (y * width + right) * 4;\n      if (!isBackground(pixels[i], pixels[i+1], pixels[i+2], pixels[i+3])) {\n        colHasContent = true;\n        break;\n      }\n    }\n    if (colHasContent) break;\n  }\n  \n  return { x: left, y: top, width: right - left + 1, height: bottom - top + 1 };\n};\n\nexport const processFilesClientSide = async (filesQueue, options, onProgress, onFileProcessed) => {\n  const zip = onFileProcessed ? null : new JSZip();\n  const { baseName, startNumber, optCrop, optTrimOnly, optAddMargin, optResize } = options;\n\n  let processedCount = 0;\n\n  for (let i = 0; i < filesQueue.length; i++) {\n    const fileItem = filesQueue[i];\n    const file = fileItem.file;\n    \n    if (onProgress) onProgress(`Przetwarzanie: ${file.name} (${i + 1}/${filesQueue.length})`);\n\n    try {\n      const img = await loadImage(file);\n      let canvas = document.createElement('canvas');\n      canvas.width = img.width;\n      canvas.height = img.height;\n      let ctx = canvas.getContext('2d', { willReadFrequently: true });\n      \n      // Rysujemy oryginał\n      ctx.drawImage(img, 0, 0);\n\n      // Zmienne pomocnicze\n      let hasBackgroundContext = false;\n      let wasTrimmed = false;\n\n      // 1. DETEKCJA TŁA (dla optCrop - tryb Auto)\n      if (optCrop || optTrimOnly) {\n          const corners = [\n            { x: 0, y: 0 },\n            { x: img.width - 1, y: 0 },\n            { x: 0, y: img.height - 1 },\n            { x: img.width - 1, y: img.height - 1 }\n          ];\n          const pixels = ctx.getImageData(0, 0, img.width, img.height).data;\n          \n          for(let corner of corners) {\n             const idx = (corner.y * img.width + corner.x) * 4;\n             const r = pixels[idx];\n             const g = pixels[idx+1];\n             const b = pixels[idx+2];\n             const a = pixels[idx+3];\n             \n             // Biały (>230) lub Przezroczysty (<255)\n             if ((r > 230 && g > 230 && b > 230) || a < 255) {\n                 hasBackgroundContext = true;\n                 break;\n             }\n          }\n      }\n\n      // 2. KADROWANIE (Trim)\n      if (optCrop || optTrimOnly) {\n          const bounds = getTrimmedBounds(ctx, canvas.width, canvas.height);\n          if (bounds) {\n              if (bounds.width < canvas.width || bounds.height < canvas.height) {\n                  wasTrimmed = true;\n              }\n\n              const trimmedCanvas = document.createElement('canvas');\n              trimmedCanvas.width = bounds.width;\n              trimmedCanvas.height = bounds.height;\n              const trimmedCtx = trimmedCanvas.getContext('2d');\n              \n              trimmedCtx.drawImage(\n                  canvas, \n                  bounds.x, bounds.y, bounds.width, bounds.height, \n                  0, 0, bounds.width, bounds.height\n              );\n              \n              canvas = trimmedCanvas;\n              ctx = trimmedCtx;\n          }\n      }\n      \n      // 3. DECYZJA O MARGINESIE\n      // Auto: (optCrop && !optTrimOnly) AND (hasBackground OR wasTrimmed)\n      const autoMargin = (optCrop && !optTrimOnly && (hasBackgroundContext || wasTrimmed));\n      const forceMargin = optAddMargin;\n      \n      const willAddMargin = autoMargin || forceMargin;\n      const marginTotal = willAddMargin ? 10 : 0; // 5px + 5px\n      \n      // 4. SKALOWANIE DO LIMITU (3000x3600)\n      const MAX_W = 3000;\n      const MAX_H = 3600;\n      const maxContentW = MAX_W - marginTotal;\n      const maxContentH = MAX_H - marginTotal;\n      \n      let currentW = canvas.width;\n      let currentH = canvas.height;\n\n      if (currentW > maxContentW || currentH > maxContentH) {\n          // Skalowanie zachowujące proporcje (fit inside)\n          const scale = Math.min(maxContentW / currentW, maxContentH / currentH);\n          \n          const newW = Math.floor(currentW * scale);\n          const newH = Math.floor(currentH * scale);\n          \n          const scaledCanvas = document.createElement('canvas');\n          scaledCanvas.width = newW;\n          scaledCanvas.height = newH;\n          const scaledCtx = scaledCanvas.getContext('2d');\n          \n          // Wysoka jakość skalowania (browser default is usually ok for downscale)\n          scaledCtx.drawImage(canvas, 0, 0, newW, newH);\n          \n          canvas = scaledCanvas;\n          ctx = scaledCtx;\n          currentW = newW;\n          currentH = newH;\n      }\n\n      // 5. DODANIE MARGINESU\n      if (willAddMargin) {\n          const marginCanvas = document.createElement('canvas');\n          marginCanvas.width = currentW + 10;\n          marginCanvas.height = currentH + 10;\n          const marginCtx = marginCanvas.getContext('2d');\n          \n          marginCtx.fillStyle = '#ffffff';\n          marginCtx.fillRect(0, 0, marginCanvas.width, marginCanvas.height);\n          \n          marginCtx.drawImage(canvas, 5, 5);\n          \n          canvas = marginCanvas;\n          ctx = marginCtx;\n          currentW += 10;\n          currentH += 10;\n      }\n\n      // 6. DOPEŁNIENIE DO 500px (Padding)\n      if (optResize) {\n          const targetW = Math.max(currentW, 500);\n          const targetH = Math.max(currentH, 500);\n          \n          if (currentW < targetW || currentH < targetH) {\n              const paddedCanvas = document.createElement('canvas');\n              paddedCanvas.width = targetW;\n              paddedCanvas.height = targetH;\n              const paddedCtx = paddedCanvas.getContext('2d');\n              \n              paddedCtx.fillStyle = '#ffffff';\n              paddedCtx.fillRect(0, 0, targetW, targetH);\n              \n              const dx = Math.floor((targetW - currentW) / 2);\n              const dy = Math.floor((targetH - currentH) / 2);\n              \n              paddedCtx.drawImage(canvas, dx, dy);\n              \n              canvas = paddedCanvas;\n              ctx = paddedCtx;\n          }\n      }\n\n      // Finalne spłaszczenie na białe tło\n      const finalCanvas = document.createElement('canvas');\n      finalCanvas.width = canvas.width;\n      finalCanvas.height = canvas.height;\n      const finalCtx = finalCanvas.getContext('2d');\n      finalCtx.fillStyle = '#ffffff';\n      finalCtx.fillRect(0, 0, finalCanvas.width, finalCanvas.height);\n      finalCtx.drawImage(canvas, 0, 0);\n\n      // --- INTELIGENTNA KOMPRESJA (Iteracyjna) ---\n      // Helper do konwersji canvas -> blob z zadaną jakością\n      const getBlob = (cvs, q) => new Promise(resolve => cvs.toBlob(blob => resolve(blob), 'image/jpeg', q));\n\n      const LIMIT_SMALL = 1.5 * 1024 * 1024; // 1.5 MB\n      const LIMIT_HARD = 3.0 * 1024 * 1024;  // 3.0 MB\n\n      let blob;\n\n      // 1. Próba: Jakość 0.99 (Max)\n      blob = await getBlob(finalCanvas, 0.99);\n      \n      // Jeśli plik jest mały (<1.5MB), kończymy\n      if (blob.size > LIMIT_SMALL) {\n          \n          // 2. Próba: Jakość 0.96\n          let tempBlob = await getBlob(finalCanvas, 0.96);\n          if (tempBlob.size <= LIMIT_HARD) {\n              blob = tempBlob;\n          } else {\n              // 3. Próba: Jakość 0.92\n              tempBlob = await getBlob(finalCanvas, 0.92);\n              if (tempBlob.size <= LIMIT_HARD) {\n                  blob = tempBlob;\n              } else {\n                  // 4. Próba: Jakość 0.89\n                  tempBlob = await getBlob(finalCanvas, 0.89);\n                  if (tempBlob.size <= LIMIT_HARD) {\n                      blob = tempBlob;\n                  } else {\n                       // 5. Fallback: Jakość 0.85\n                       blob = await getBlob(finalCanvas, 0.85);\n                  }\n              }\n          }\n      }\n\n      const fileName = `${baseName}-${startNumber + i}.jpg`;\n      \n      if (onFileProcessed) {\n          await onFileProcessed(blob, fileName, file);\n      } else {\n          zip.file(fileName, blob);\n      }\n      \n      processedCount++;\n\n    } catch (err) {\n      console.error('Błąd przetwarzania klienta:', err);\n      if (onProgress) onProgress(`Błąd: ${file.name}`);\n    }\n  }\n\n  if (!onFileProcessed) {\n      if (onProgress) onProgress('Pakowanie ZIP...');\n      const zipBlob = await zip.generateAsync({ type: 'blob' });\n      return zipBlob;\n  }\n};\n"],"names":["loadImage","file","resolve","reject","img","getTrimmedBounds","ctx","width","height","pixels","top","bottom","left","right","isBackground","r","g","b","a","isWhite","isTransparent","rowHasContent","x","i","colHasContent","y","processFilesClientSide","filesQueue","options","onProgress","onFileProcessed","zip","JSZip","baseName","startNumber","optCrop","optTrimOnly","optAddMargin","optResize","processedCount","canvas","hasBackgroundContext","wasTrimmed","corners","corner","idx","bounds","trimmedCanvas","trimmedCtx","willAddMargin","marginTotal","MAX_W","MAX_H","maxContentW","maxContentH","currentW","currentH","scale","newW","newH","scaledCanvas","scaledCtx","marginCanvas","marginCtx","targetW","targetH","paddedCanvas","paddedCtx","dx","dy","finalCanvas","finalCtx","getBlob","cvs","q","blob","LIMIT_SMALL","LIMIT_HARD","tempBlob","fileName","err"],"mappings":"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"}