/* empty css                      */(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function a(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=a(e);fetch(e.href,t)}})();async function c(){const i=document.querySelectorAll("[data-load]");for(const o of i){const a=o.getAttribute("src");if(a)try{const r=await fetch(a);if(!r.ok){console.error(`Nie udało się załadować ${a}: ${r.status}`),o.innerHTML=`<p>Błąd ładowania: ${a}</p>`;continue}const e=await r.text();o.innerHTML=e;const t=o.getAttribute("data-icon-path");if(t){const n=o.querySelector("[data-icon]");n&&n.setAttribute("src",t)}}catch(r){console.error(`Błąd ładowania ${a}:`,r),o.innerHTML=`<p>Błąd ładowania: ${a}</p>`}}}document.addEventListener("DOMContentLoaded",c);document.getElementById("upload-form").addEventListener("submit",async i=>{i.preventDefault();const o=document.getElementById("file-input"),a=document.getElementById("file-name");if(!o.files.length){alert("Proszę wybrać zdjęcia!");return}const r=new FormData;Array.from(o.files).forEach(e=>r.append("images",e)),r.append("newName",a.value);try{const e=await fetch("http://localhost:3000/upload",{method:"POST",body:r});if(e.ok){const t=await e.blob(),n=document.getElementById("download-link");n.href=URL.createObjectURL(t),n.style.display="inline-block",n.textContent="Pobierz spakowane zdjęcia",n.download="cropped_images.zip"}else alert("Wystąpił błąd podczas przetwarzania zdjęć.")}catch(e){console.error("Błąd:",e),alert("Nie udało się połączyć z serwerem.")}});
//# sourceMappingURL=index.js.map
