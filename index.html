<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/webp-jpeg-www/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Webp > jpeg >> GUI</title>
    <script type="module" crossorigin src="/webp-jpeg-www/index.js"></script>
    <link rel="stylesheet" crossorigin href="/webp-jpeg-www/assets/styles-CfwAGYY-.css">
  </head>
  <body>
    <header class="header">
  <div class="container">
    <nav class="nav">
      <a class="nav-logo" href="./index.html" aria-label="Site logo">
        <svg class="nav-logo-icon" width="100" height="30">
          <use href="/webp-jpeg-www/assets/sprite-E8vg0sBb.svg#logo2"></use>
        </svg>
      </a>
      <!-- <ul class="nav-list">
        <li class="nav-item">
          <a class="nav-link {=$highlight-act}" href="./page-2.html">Page 2</a>
        </li>
        <li class="nav-item">
          <a class="nav-link {=$highlight-curr}" href="./page-3.html">Page 3</a>
        </li>
      </ul> -->
    </nav>
  </div>
</header>


    <main>
      <!-- Loads the specified .html file -->
      <section class="photo-cropper">
    <div class="container">
        <h1 class="main-title">Photo Cropper</h1>
        <form id="upload-form">
            <label for="file-input" class="file-label">
                Wybierz zdjęcia
                <input type="file" id="file-input" multiple accept=".jpeg,.png,.webp,.gif,.tiff,.jpg">
            </label>
            <input type="text" id="file-name" placeholder="Skopiuj nazwę z => PIMu">
            <button type="submit" class="submit-btn">Prześlij i przetwórz</button>
        </form>
        <div id="progress-container" style="display: none;">
            <div id="progress-bar"></div>
            <div id="progress-text"></div>
        </div>
        <div id="result">
            <a id="download-link" class="download-btn" style="display: none;">Pobierz spakowane zdjęcia</a>
        </div>
    </div>
</section>

<script>
    document.getElementById('file-name').addEventListener('click', async function () {
        try {
            const text = await navigator.clipboard.readText();
            this.value = sanitizeFileName(text);
        } catch (err) {
            console.error('Failed to read clipboard contents: ', err);
        }
    });

    function sanitizeFileName(fileName) {
        // Usuń polskie znaki
        const polishChars = {
            'ą': 'a', 'ć': 'c', 'ę': 'e', 'ł': 'l', 'ń': 'n', 'ó': 'o', 'ś': 's', 'ź': 'z', 'ż': 'z',
            'Ą': 'A', 'Ć': 'C', 'Ę': 'E', 'Ł': 'L', 'Ń': 'N', 'Ó': 'O', 'Ś': 'S', 'Ź': 'Z', 'Ż': 'Z'
        };
        fileName = fileName.replace(/[ąćęłńóśźżĄĆĘŁŃÓŚŹŻ]/g, char => polishChars[char] || char);

        // Usuń nawiasy
        fileName = fileName.replace(/[\(\)]/g, '');

        // Zamień spacje na myślniki
        fileName = fileName.replace(/\s+/g, '-');

        // Usuń wszystkie znaki specjalne oprócz myślników
        fileName = fileName.replace(/[^a-zA-Z0-9-]/g, '');

        return fileName;
    }
</script>
      <!-- <article class="badges">
  <div class="container">
    <ul class="badges-list">
      <li class="badges-item">
        <a
          class="badges-link"
          href="https://www.npmjs.com/package/vite-plugin-html-inject"
          target="_blank"
          rel="noopener noreferrer"
        >
          HTML Inject
        </a>
      </li>
      <li class="badges-item">
        <a
          class="badges-link"
          href="https://www.npmjs.com/package/vite-plugin-full-reload"
          target="_blank"
          rel="noopener noreferrer"
        >
          Full Reload
        </a>
      </li>
      <li class="badges-item">
        <a
          class="badges-link"
          href="https://www.npmjs.com/package/postcss-sort-media-queries"
          target="_blank"
          rel="noopener noreferrer"
        >
          Sort Media Queries
        </a>
      </li>
    </ul>
  </div>
</article>
 -->
    </main>

    <footer class="footer">
  <div class="container">
    <p class="footer-desc">
      Made with ✨ by
      <a
        class="footer-link"
        href="https://lmk.one/"
        target="_blank"
        rel="noopener noreferrer"
      >
        LMK One
      </a>
    </p>
  </div>
</footer>



  </body>
</html>
